<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Basket | MealMaster</title>
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">

    <!-- Load icon library for search bar -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/balloon-css/0.5.0/balloon.min.css">

    <link rel="stylesheet" href="../public/styles/style.css" type="text/css">
    <link rel="stylesheet" href="../public/styles/basket.css" type="text/css">



    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.4/angular.min.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.18.1/moment.min.js"></script>

    <script src="public/scripts/basket.js"></script>





</head>
<body>
    <nav>
        <%- include('./navbar.ejs', {active: "Basket"}); %>
    </nav>

    <h1>My Basket</h1>
    <div id="calendar_area">
        <div class="week">Ingredients
        </div>
        <table id="calendar">
            <tr>
            </tr>
        </table>
    </div>


    <table id="ingredients">
        <tr></tr>
    </table>



    <div class="search" ng-app="search_ingredients">
        <div class="search_bar">
            <label>Add ingredients to your basket:</label>
            <input type="text" class = "search" placeholder="Type in the ingredient.." name="search" ng-model="searchBox">
        </div>

        <div class="search_result">
            <table>
                <tr ng-repeat="ingredient in ingredients | filter: searchBox" ng-if="$index < 10">
                    <td><button id="button_{{ingredient.id}}" class="plus_button" data-balloon="Add to basket" data-balloon-pos="left" > + </button></td>
                    <td>{{ingredient.name}}</td>
                    <td><img src="{{ingredient.img}}" alt="{{ingredient.name}}"></td>
                </tr>
            </table>
        </div>
    </div>

    <script>
        var ingredients = <%- JSON.stringify(ingredients) %>;
        angular.module("search_ingredients", [])
            .run(function($rootScope){
                $rootScope.ingredients = ingredients;
            });

    </script>

</body>

</html>